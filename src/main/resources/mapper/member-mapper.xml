<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<select id="selectOneMember" resultMap="memberMap">
		select
    		*
		from
    		member m join floworks_user u
    		on m.id = u.id
    	where
    		u.quit_yn = 'N'
    		and m.resign = 'N'
    		and m.id = #{id}
	</select>
	
	<resultMap type="member" id="memberMap" extends="userMap">
	
		<id column="id" property="id"/>
		
		<result column="hire_date" property="hireDate"/>
		<result column="resign" property="resign"/>
		<result column="position" property="position"/>
		<result column="department_code" property="departmentCode"/>
		
	</resultMap>
	
	<resultMap type="user" id="userMap">
	
		<id column="id" property="id"/>
		
		<result column="workspace_id" property="workspaceId"/>
		<result column="password" property="password"/>
		<result column="name" property="name"/>
		<result column="email" property="email"/>
		<result column="phone" property="phone"/>
		<result column="address" property="address"/>
		<result column="quit_yn" property="quitYn"/>
		<result column="role" property="role"/>
		
	</resultMap>

</mapper>